<svg xmlns="http://www.w3.org/2000/svg" width="760" height="220" viewBox="0 0 760 220">
  <style>
    .box { fill:#fff; stroke:#333; stroke-width:1.5; }
    .text { font: 12px sans-serif; fill:#111; }
    .port { font: 11px monospace; fill:#444; }
    .arrow { stroke:#333; stroke-width:1.5; marker-end:url(#arrow); fill:none; }
  </style>
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="8" refX="9" refY="4" orient="auto">
      <path d="M0,0 L10,4 L0,8 z" fill="#333" />
    </marker>
  </defs>

  <!-- Nodes -->
  <rect class="box" x="60" y="60" width="190" height="80" rx="6"/>
  <text class="text" x="75" y="85">updown_counter4</text>
  <text class="port" x="75" y="105">clk, arst, en</text>
  <text class="port" x="75" y="123">dir =&gt; up/down</text>
  <text class="port" x="75" y="141">q[3:0]</text>

  <rect class="box" x="300" y="20" width="190" height="80" rx="6"/>
  <text class="text" x="315" y="45">two_state_fsm</text>
  <text class="port" x="315" y="65">clk, arst</text>
  <text class="port" x="315" y="83">pos =&gt; dir</text>

  <rect class="box" x="540" y="60" width="170" height="80" rx="6"/>
  <text class="text" x="555" y="85">decoder3to8</text>
  <text class="port" x="555" y="105">sel=pos</text>
  <text class="port" x="555" y="123">leds[7:0]</text>

  <!-- IO labels -->
  <text class="port" x="20" y="58">clk</text>
  <text class="port" x="20" y="78">arst</text>
  <text class="port" x="20" y="98">en</text>
  <text class="port" x="710" y="98">leds[7:0]</text>

  <!-- Wires/arrows -->
  <path class="arrow" d="M 20 54 L 60 54 L 60 78" />
  <path class="arrow" d="M 20 74 L 60 74 L 60 90" />
  <path class="arrow" d="M 20 94 L 60 94 L 60 102" />

  <!-- counter to fsm: pos=q[2:0] -->
  <path class="arrow" d="M 250 100 C 270 100, 290 60, 300 60" />
  <text class="port" x="255" y="90">pos=q[2:0]</text>

  <!-- fsm to counter: dir_next/dir -->
  <path class="arrow" d="M 300 80 C 280 120, 260 140, 250 140" />
  <text class="port" x="255" y="150">dir</text>

  <!-- counter to decoder: sel=pos -->
  <path class="arrow" d="M 250 120 L 540 120" />
  <text class="port" x="360" y="135">sel=pos</text>

  <!-- decoder to leds -->
  <path class="arrow" d="M 710 100 L 710 100" />
  <path class="arrow" d="M 710 100 L 710 100" />
  <path class="arrow" d="M 710 100 L 730 100" />

  <!-- clk/arsts into fsm -->
  <path class="arrow" d="M 60 54 L 300 54" />
  <path class="arrow" d="M 60 74 L 300 74" />

  <!-- leds output from decoder -->
  <path class="arrow" d="M 710 100 L 740 100" />

</svg>

